# 동시성 안전 구매 API
> Kotlin + Spring Boot 기반 재고 감소 API 구현
> 

## 프로젝트 개요
본 프로젝트는 **주문/구매 과정에서 발생하는 동시성 문제**를 해결하기 위한
Kotlin + Spring Boot 기반의 재고 관리 API를 구현하는 것을 목표로 한다.

동시성 문제는 실제 서비스의 장애 원인이 되며,
특히 “한정 수량 상품 구매”와 같은 상황에서 재고가 음수가 되거나, 초과 주문이 발생하는 일이 자주 벌어진다.

본 프로젝트는 아래 문제를 해결하는 것을 목표로 한다.
- 여러 사용자가 동시에 같은 상품을 구매할 때
  재고가 정확하게 차감되어야 한다.
- 동시성 이슈를 직접 구현해보고, 해결 방식을 비교한다.
- Kotlin 언어와 Spring Boot 프레임워크를 활용하여 API를 만들어본다.

## 핵심 목표
### 1) 동시성 이슈 직접 재현
- synchronized 없이 단순한 재고 차감 로직을 구현
- 동시에 API 요청 → 재고 음수, 초과 판매 발생

### 2) 세 가지 방식으로 동시성 문제 해결
- (A) synchronized 기반 임계영역 처리 (Local Lock)
- (B) 데이터베이스 비관적 락(Pessimistic Lock)
- (C) Redis 분산 락(Redisson 이용)

### 3) 성능 및 안정성 비교
- 각각의 방식으로 100~1000 요청 시뮬레이션 실행
- 로그 및 결과 비교